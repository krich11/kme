#!/bin/bash
# SAE Package Self-Extractor
# Package: test-sae
# SAE ID: pxpBSrxAXpk_PrTh
# Version: 1.0.0

# Embedded encrypted data
ENCRYPTED_DATA="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
xs+gkIQttZcqjvFi6CTB4w=="

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Function to print colored output
print_status() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_header() {
    echo -e "${BLUE}================================${NC}"
    echo -e "${BLUE}  SAE Package Self-Extractor${NC}"
    echo -e "${BLUE}================================${NC}"
    echo "Package: test-sae"
    echo "SAE ID: pxpBSrxAXpk_PrTh"
    echo "Version: 1.0.0"
    echo ""
}

# Function to extract package
extract_package() {
    local password="$1"

    print_status "Extracting SAE package..."

    # Create .config directory
    local config_dir=".config"
    mkdir -p "$config_dir"

    # Decrypt and extract data
    print_status "Decrypting package data..."

    if ! echo "$ENCRYPTED_DATA" | base64 -d | \
        openssl enc -aes-256-cbc -d -salt -pbkdf2 \
            -pass "pass:$password" \
            -out "package.tar.gz" 2>/dev/null; then
        print_error "Invalid password or corrupted package"
        rm -f "package.tar.gz"
        return 1
    fi

    # Extract package contents
    print_status "Extracting package contents..."

    if ! tar -xzf package.tar.gz; then
        print_error "Failed to extract package contents"
        return 1
    fi

    # Remove temporary archive
    rm package.tar.gz

    # Set proper permissions for .config directory and files
    print_status "Setting file permissions..."
    chmod 700 .config
    chmod 600 .config/sae_private_key.pem
    chmod 644 .config/sae_certificate.pem
    chmod 644 .config/kme_ca_certificate.pem
    chmod 644 .config/sae_package.json
    chmod 755 *.sh *.py 2>/dev/null || true

    # Create virtual environment and install dependencies
    print_status "Setting up Python virtual environment..."
    if command -v python3 &> /dev/null; then
        python3 -m venv venv
        if [[ -f "requirements.txt" ]]; then
            print_status "Installing Python dependencies..."
            source venv/bin/activate
            pip install --upgrade pip
            pip install -r requirements.txt
            print_status "âœ… Virtual environment created and dependencies installed"
        else
            print_warning "No requirements.txt found, skipping dependency installation"
        fi
    else
        print_error "Python3 is required but not installed"
        return 1
    fi

    print_status "Package installed successfully!"
    echo ""
    echo "Files installed:"
    echo "Current directory:"
    ls -la *.sh *.py *.md 2>/dev/null || echo "  (no files)"
    echo ""
    echo ".config directory:"
    ls -la .config/

    echo ""
    print_status "Next steps:"
    echo "1. Review SECURITY_README.md"
    echo "2. Test connection: ./test_connection.sh"
    echo "3. Use client: python client_example.py (automatically activates venv)"

    return 0
}

# Function to show help
show_help() {
    echo "Usage: $0 [password]"
    echo ""
    echo "Options:"
    echo "  password    Password to decrypt package (if not provided, will prompt)"
    echo "  --help      Show this help message"
    echo ""
    echo "The package will be extracted to the current directory with:"
    echo "- Python virtual environment (venv/)"
    echo "- Dependencies installed from requirements.txt"
    echo "- Configuration files in .config/"
    echo "- Executable scripts with proper permissions"
}

# Main execution
main() {
    print_header

    # Check for help
    if [[ "$1" == "--help" || "$1" == "-h" ]]; then
        show_help
        exit 0
    fi

    # Check if openssl is available
    if ! command -v openssl &> /dev/null; then
        print_error "OpenSSL is required but not installed"
        exit 1
    fi

    # Get password
    local password
    if [[ -n "$1" ]]; then
        password="$1"
    else
        read -s -p "Enter package password: " password
        echo
    fi

    # Extract package
    if extract_package "$password"; then
        print_status "Installation completed successfully!"
        exit 0
    else
        print_error "Installation failed!"
        exit 1
    fi
}

# Run main function
main "$@"
