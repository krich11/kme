#!/bin/bash
# SAE Package Self-Extractor
# Package: sae-a
# SAE ID: qnFFr9m6Re3EWs7C
# Version: 1.0.0

# Embedded encrypted data
ENCRYPTED_DATA="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"

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Function to print colored output
print_status() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_header() {
    echo -e "${BLUE}================================${NC}"
    echo -e "${BLUE}  SAE Package Self-Extractor${NC}"
    echo -e "${BLUE}================================${NC}"
    echo "Package: sae-a"
    echo "SAE ID: qnFFr9m6Re3EWs7C"
    echo "Version: 1.0.0"
    echo ""
}

# Function to extract package
extract_package() {
    local password="$1"

    print_status "Extracting SAE package..."

    # Create .config directory
    local config_dir=".config"
    mkdir -p "$config_dir"

    # Decrypt and extract data
    print_status "Decrypting package data..."

    if ! echo "$ENCRYPTED_DATA" | base64 -d | \
        openssl enc -aes-256-cbc -d -salt -pbkdf2 \
            -pass "pass:$password" \
            -out "package.tar.gz" 2>/dev/null; then
        print_error "Invalid password or corrupted package"
        rm -f "package.tar.gz"
        return 1
    fi

    # Extract package contents
    print_status "Extracting package contents..."

    if ! tar -xzf package.tar.gz; then
        print_error "Failed to extract package contents"
        return 1
    fi

    # Remove temporary archive
    rm package.tar.gz

    # Set proper permissions for .config directory and files
    print_status "Setting file permissions..."
    chmod 700 .config
    chmod 600 .config/sae_private_key.pem
    chmod 644 .config/sae_certificate.pem
    chmod 644 .config/kme_ca_certificate.pem
    chmod 644 .config/sae_package.json
    chmod 755 *.sh *.py 2>/dev/null || true

    print_status "Package installed successfully!"
    echo ""
    echo "Files installed:"
    echo "Current directory:"
    ls -la *.sh *.py *.md 2>/dev/null || echo "  (no files)"
    echo ""
    echo ".config directory:"
    ls -la .config/

    echo ""
    print_status "Next steps:"
    echo "1. Review SECURITY_README.md"
    echo "2. Test connection: ./test_connection.sh"
    echo "3. Use client: python client_example.py"

    return 0
}

# Function to show help
show_help() {
    echo "Usage: $0 [password]"
    echo ""
    echo "Options:"
    echo "  password    Password to decrypt package (if not provided, will prompt)"
    echo "  --help      Show this help message"
    echo ""
    echo "The package will be extracted to .config/kme_sae/ in the current directory"
}

# Main execution
main() {
    print_header

    # Check for help
    if [[ "$1" == "--help" || "$1" == "-h" ]]; then
        show_help
        exit 0
    fi

    # Check if openssl is available
    if ! command -v openssl &> /dev/null; then
        print_error "OpenSSL is required but not installed"
        exit 1
    fi

    # Get password
    local password
    if [[ -n "$1" ]]; then
        password="$1"
    else
        read -s -p "Enter package password: " password
        echo
    fi

    # Extract package
    if extract_package "$password"; then
        print_status "Installation completed successfully!"
        exit 0
    else
        print_error "Installation failed!"
        exit 1
    fi
}

# Run main function
main "$@"
