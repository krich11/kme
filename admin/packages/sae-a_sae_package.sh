#!/bin/bash
# SAE Package Self-Extractor
# Package: sae-a
# SAE ID: qnFFr9m6Re3EWs7C
# Version: 1.0.0

# Embedded encrypted data
ENCRYPTED_DATA="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
6Lk0KsZPSX/s+16T8EfjwQ=="

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Function to print colored output
print_status() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_header() {
    echo -e "${BLUE}================================${NC}"
    echo -e "${BLUE}  SAE Package Self-Extractor${NC}"
    echo -e "${BLUE}================================${NC}"
    echo "Package: sae-a"
    echo "SAE ID: qnFFr9m6Re3EWs7C"
    echo "Version: 1.0.0"
    echo ""
}

# Function to extract package
extract_package() {
    local password="$1"

    print_status "Extracting SAE package..."

    # Create .config directory
    local config_dir=".config"
    mkdir -p "$config_dir"

    # Decrypt and extract data
    print_status "Decrypting package data..."

    if ! echo "$ENCRYPTED_DATA" | base64 -d | \
        openssl enc -aes-256-cbc -d -salt -pbkdf2 \
            -pass "pass:$password" \
            -out "package.tar.gz" 2>/dev/null; then
        print_error "Invalid password or corrupted package"
        rm -f "package.tar.gz"
        return 1
    fi

    # Extract package contents
    print_status "Extracting package contents..."

    if ! tar -xzf package.tar.gz; then
        print_error "Failed to extract package contents"
        return 1
    fi

    # Remove temporary archive
    rm package.tar.gz

    # Set proper permissions for .config directory and files
    print_status "Setting file permissions..."
    chmod 700 .config
    chmod 600 .config/sae_private_key.pem
    chmod 644 .config/sae_certificate.pem
    chmod 644 .config/kme_ca_certificate.pem
    chmod 644 .config/sae_package.json
    chmod 755 *.sh *.py 2>/dev/null || true

    # Create virtual environment and install dependencies
    print_status "Setting up Python virtual environment..."
    if command -v python3 &> /dev/null; then
        python3 -m venv venv
        if [[ -f "requirements.txt" ]]; then
            print_status "Installing Python dependencies..."
            source venv/bin/activate
            pip install --upgrade pip
            pip install -r requirements.txt
            print_status "✅ Virtual environment created and dependencies installed"
        else
            print_warning "No requirements.txt found, skipping dependency installation"
        fi
    else
        print_error "Python3 is required but not installed"
        return 1
    fi

    print_status "Package installed successfully!"
    echo ""
    echo "Files installed:"
    echo "Current directory:"
    ls -la *.sh *.py *.md 2>/dev/null || echo "  (no files)"
    echo ""
    echo ".config directory:"
    ls -la .config/

    echo ""
    print_status "Next steps:"
    echo "1. Review SECURITY_README.md"
    echo "2. Test connection: ./test_connection.sh"
    echo "3. Use client: python client_example.py (automatically activates venv)"

    return 0
}

# Function to show help
show_help() {
    echo "Usage: $0 [password]"
    echo ""
    echo "Options:"
    echo "  password    Password to decrypt package (if not provided, will prompt)"
    echo "  --help      Show this help message"
    echo ""
    echo "The package will be extracted to the current directory with:"
    echo "- Python virtual environment (venv/)"
    echo "- Dependencies installed from requirements.txt"
    echo "- Configuration files in .config/"
    echo "- Executable scripts with proper permissions"
}

# Main execution
main() {
    print_header

    # Check for help
    if [[ "$1" == "--help" || "$1" == "-h" ]]; then
        show_help
        exit 0
    fi

    # Check if openssl is available
    if ! command -v openssl &> /dev/null; then
        print_error "OpenSSL is required but not installed"
        exit 1
    fi

    # Get password
    local password
    if [[ -n "$1" ]]; then
        password="$1"
    else
        read -s -p "Enter package password: " password
        echo
    fi

    # Extract package
    if extract_package "$password"; then
        print_status "Installation completed successfully!"
        exit 0
    else
        print_error "Installation failed!"
        exit 1
    fi
}

# Run main function
main "$@"
