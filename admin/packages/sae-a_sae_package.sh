#!/bin/bash
# SAE Package Self-Extractor
# Package: sae-a
# SAE ID: dWHpAelPf0rS48IJ
# Version: 1.0.0

# Embedded encrypted data
ENCRYPTED_DATA="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"

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Function to print colored output
print_status() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_header() {
    echo -e "${BLUE}================================${NC}"
    echo -e "${BLUE}  SAE Package Self-Extractor${NC}"
    echo -e "${BLUE}================================${NC}"
    echo "Package: sae-a"
    echo "SAE ID: dWHpAelPf0rS48IJ"
    echo "Version: 1.0.0"
    echo ""
}

# Function to extract package
extract_package() {
    local password="$1"

    print_status "Extracting SAE package..."

    # Create .config directory
    local config_dir=".config"
    mkdir -p "$config_dir"

    # Decrypt and extract data
    print_status "Decrypting package data..."

    if ! echo "$ENCRYPTED_DATA" | base64 -d | \
        openssl enc -aes-256-cbc -d -salt -pbkdf2 \
            -pass "pass:$password" \
            -out "package.tar.gz" 2>/dev/null; then
        print_error "Invalid password or corrupted package"
        rm -f "package.tar.gz"
        return 1
    fi

    # Extract package contents
    print_status "Extracting package contents..."

    if ! tar -xzf package.tar.gz; then
        print_error "Failed to extract package contents"
        return 1
    fi

    # Remove temporary archive
    rm package.tar.gz

    # Set proper permissions for .config directory and files
    print_status "Setting file permissions..."
    chmod 700 .config
    chmod 600 .config/sae_private_key.pem
    chmod 644 .config/sae_certificate.pem
    chmod 644 .config/kme_ca_certificate.pem
    chmod 644 .config/sae_package.json
    chmod 755 *.sh *.py 2>/dev/null || true

    print_status "Package installed successfully!"
    echo ""
    echo "Files installed:"
    echo "Current directory:"
    ls -la *.sh *.py *.md 2>/dev/null || echo "  (no files)"
    echo ""
    echo ".config directory:"
    ls -la .config/

    echo ""
    print_status "Next steps:"
    echo "1. Review SECURITY_README.md"
    echo "2. Test connection: ./test_connection.sh"
    echo "3. Use client: python client_example.py"

    return 0
}

# Function to show help
show_help() {
    echo "Usage: $0 [password]"
    echo ""
    echo "Options:"
    echo "  password    Password to decrypt package (if not provided, will prompt)"
    echo "  --help      Show this help message"
    echo ""
    echo "The package will be extracted to .config/kme_sae/ in the current directory"
}

# Main execution
main() {
    print_header

    # Check for help
    if [[ "$1" == "--help" || "$1" == "-h" ]]; then
        show_help
        exit 0
    fi

    # Check if openssl is available
    if ! command -v openssl &> /dev/null; then
        print_error "OpenSSL is required but not installed"
        exit 1
    fi

    # Get password
    local password
    if [[ -n "$1" ]]; then
        password="$1"
    else
        read -s -p "Enter package password: " password
        echo
    fi

    # Extract package
    if extract_package "$password"; then
        print_status "Installation completed successfully!"
        exit 0
    else
        print_error "Installation failed!"
        exit 1
    fi
}

# Run main function
main "$@"
