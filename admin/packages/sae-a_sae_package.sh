#!/bin/bash
# SAE Package Self-Extractor
# Package: sae-a
# SAE ID: qnFFr9m6Re3EWs7C
# Version: 1.0.0

# Embedded encrypted data
ENCRYPTED_DATA="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"

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# Function to print colored output
print_status() {
    echo -e "${GREEN}[INFO]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_header() {
    echo -e "${BLUE}================================${NC}"
    echo -e "${BLUE}  SAE Package Self-Extractor${NC}"
    echo -e "${BLUE}================================${NC}"
    echo "Package: sae-a"
    echo "SAE ID: qnFFr9m6Re3EWs7C"
    echo "Version: 1.0.0"
    echo ""
}

# Function to extract package
extract_package() {
    local password="$1"

    print_status "Extracting SAE package..."

    # Create .config directory
    local config_dir=".config"
    mkdir -p "$config_dir"

    # Decrypt and extract data
    print_status "Decrypting package data..."

    if ! echo "$ENCRYPTED_DATA" | base64 -d | \
        openssl enc -aes-256-cbc -d -salt -pbkdf2 \
            -pass "pass:$password" \
            -out "package.tar.gz" 2>/dev/null; then
        print_error "Invalid password or corrupted package"
        rm -f "package.tar.gz"
        return 1
    fi

    # Extract package contents
    print_status "Extracting package contents..."

    if ! tar -xzf package.tar.gz; then
        print_error "Failed to extract package contents"
        return 1
    fi

    # Remove temporary archive
    rm package.tar.gz

    # Set proper permissions for .config directory and files
    print_status "Setting file permissions..."
    chmod 700 .config
    chmod 600 .config/sae_private_key.pem
    chmod 644 .config/sae_certificate.pem
    chmod 644 .config/kme_ca_certificate.pem
    chmod 644 .config/sae_package.json
    chmod 755 *.sh *.py 2>/dev/null || true

    # Create virtual environment and install dependencies
    print_status "Setting up Python virtual environment..."
    if command -v python3 &> /dev/null; then
        python3 -m venv venv
        if [[ -f "requirements.txt" ]]; then
            print_status "Installing Python dependencies..."
            source venv/bin/activate
            pip install --upgrade pip
            pip install -r requirements.txt
            print_status "âœ… Virtual environment created and dependencies installed"
        else
            print_warning "No requirements.txt found, skipping dependency installation"
        fi
    else
        print_error "Python3 is required but not installed"
        return 1
    fi

    print_status "Package installed successfully!"
    echo ""
    echo "Files installed:"
    echo "Current directory:"
    ls -la *.sh *.py *.md 2>/dev/null || echo "  (no files)"
    echo ""
    echo ".config directory:"
    ls -la .config/

    echo ""
    print_status "Next steps:"
    echo "1. Review SECURITY_README.md"
    echo "2. Test connection: ./test_connection.sh"
    echo "3. Use client: python client_example.py (automatically activates venv)"

    return 0
}

# Function to show help
show_help() {
    echo "Usage: $0 [password]"
    echo ""
    echo "Options:"
    echo "  password    Password to decrypt package (if not provided, will prompt)"
    echo "  --help      Show this help message"
    echo ""
    echo "The package will be extracted to the current directory with:"
    echo "- Python virtual environment (venv/)"
    echo "- Dependencies installed from requirements.txt"
    echo "- Configuration files in .config/"
    echo "- Executable scripts with proper permissions"
}

# Main execution
main() {
    print_header

    # Check for help
    if [[ "$1" == "--help" || "$1" == "-h" ]]; then
        show_help
        exit 0
    fi

    # Check if openssl is available
    if ! command -v openssl &> /dev/null; then
        print_error "OpenSSL is required but not installed"
        exit 1
    fi

    # Get password
    local password
    if [[ -n "$1" ]]; then
        password="$1"
    else
        read -s -p "Enter package password: " password
        echo
    fi

    # Extract package
    if extract_package "$password"; then
        print_status "Installation completed successfully!"
        exit 0
    else
        print_error "Installation failed!"
        exit 1
    fi
}

# Run main function
main "$@"
